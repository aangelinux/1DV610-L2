# Kapitel 2
| Namn                                                  | Förklaring                                                                                         | Reflektion/Regler                                                                                                                                                                                                                                      |
| ----------------------------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Scale                                                 | Klassnamn på en helper klass som hanterar uträkningar                                              | Use Intention-Revealing Names: Osäker på om "Scale" är bästa valet. Klassen hanterar de flesta uträkningarna, även sådana som inte är helt relaterade till diagrammens skala. "Calculator" hade kanske varit bättre                                    |
| resetChart()                                          | Metodnamn från det publika interfacet                                                              | Use Pronounceable Names: resetChart går att uttala (och förhoppningsvis även resten av namnen i det publika interfacet)                                                                                                                                |
| Configuration                                         | Klassnamn på en helper klass som konfigurerar options objektet (diagrammets höjd, bredd, färg osv) | Class Names: Ska vara substantiv och undvika namn som "Manager", "Processor", "Info" osv.<br>Use Intention-Revealing Names: Det hade kunnat vara tydligare att det konfigurerar just options objektet, men med risk för att det blir onödigt långt     |
| Validator, validateOptions(), validateData()          | Klassnamn på en helper klass, metodnamn från det publika interfacet                                | Pick One Word Per Concept: Jag valde namnen validateOptions och validateData för att det skulle vara tydligt vilken klass de hör till och vad de gör.<br>Method names: Ska vara verb.                                                                  |
| createBarChart(), createPieChart(), createLineGraph() | Metodnamn från det publika interfacet                                                              | Avoid Disinformation/Use Intention-Revealing Names: Inte specifikt desinformation, men dessa metodnamn kan vara lite missvisande för att de utelämnar viktig information om att de tar bort existerande diagram innan de genererar ett nytt. Jag valde att behålla namnet så länge eftersom denna info finns med i dokumentationen. |
| removeStaticCSS(template)                             | Metodnamn från det publika interfacet                                                              | Make Meaningful Distinctions: Det kan ha varit onödigt, men jag valde att lägga till "Static" i namnet för skilja det från dynamiska CSS regler som skickas in via options objektet.                                                                   |
  


---
## Reflektion
Tidigare har jag inte alltid lagt ned så mycket tid eller ansträngning på att ha tydliga namn på variabler/metoder/klasser etc, men efter att ha läst det här kapitlet har jag insett att det är väldigt viktigt för kodens läsbarhet.  
  
I det här projektet använde jag regeln Use Problem Domain Names för att byta namn på några av mina metoder och variabler. Så jag läste på om terminologin för olika diagram och bytte till exempel namn på variabeln “xAxisText” till “xAxisLabel” och metoden “createCircle()” till “createDataPoint()”.  
  
När det kommer till namngivning tycker jag att det som är krångligt är att hitta ett bra mellanting mellan olika regler. Följer man regeln Use Intention-Revealing Names är det lätt hänt att namnen blir väldigt långa, vilket kan bryta mot regeln Don’t Add Gratuitous Context som bla säger att korta namn är bättre än långa. Så då måste man komma på namn som är både koncisa och säger exakt vad de gör, vilket är lättare sagt än gjort!  
  
  
  
# Kapitel 3
| Metodnamn                                                                     | Länk                                                                                                                                                             | Antal rader | Reflektion/Regler                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------------------------------------- | ------------------------------------------------------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| _getPieSlicesData(dataDecimals, intialCoordinates, centerCoordinates, radius) | [https://github.com/aangelinux/1DV610-L2/blob/main/lib/helpers/scale.js#L92](https://github.com/aangelinux/1DV610-L2/blob/main/lib/helpers/scale.js#L92)         | 15          | Small: Bryter lite mot regeln om att metoder ska vara små. Det går att bryta ut fler kodblock, men jag vill också att det ska vara tydligt vad som händer (det krävs många uträkningar för att räkna ut dimensionerna av en tårtbit i ett tårtdiagram!) Function Arguments: Metoderna accepterar väldigt många argument. Alla är nödvändiga, men man kanske kan lösa det genom att packetera alla variabler i ett objekt |
| #validateOptionValues(options)                                                | [https://github.com/aangelinux/1DV610-L2/blob/main/lib/helpers/validator.js#L58](https://github.com/aangelinux/1DV610-L2/blob/main/lib/helpers/validator.js#L58) | 14          | Blocks and Indenting: Bryter mot regeln om nested functions och indenting. Det är många options keys som ska valideras så jag samlade alla på ett ställe, men det skulle sannolikt vara bättre att bryta ut några block                                                                                                                                                                                                  |
| #createPath(sliceData)                                                        | [https://github.com/aangelinux/1DV610-L2/blob/main/lib/helpers/marker.js#L121](https://github.com/aangelinux/1DV610-L2/blob/main/lib/helpers/marker.js#L121)     | 13          | Do One Thing: Metoden är aningen lång, men anledingen är att <path> elementet tar många variabler som jag delade upp på olika rader för att göra den enklare att läsa. Så metoden är lång, men den följer regeln om att bara göra en sak.                                                                                                                                                                                |
| #setLayout()                                                                  | [https://github.com/aangelinux/1DV610-L2/blob/main/lib/entities/barChart.js#L80](https://github.com/aangelinux/1DV610-L2/blob/main/lib/entities/barChart.js#L80) | 14          | Do One Thing: Metoden skulle kunna delas upp i en som sätter layout för diagram axlarna och en annan som sätter layout för data markörerna; just nu gör den två saker. Have No Side Effects: Den har inga sidoeffekter.                                                                                                                                                                                                  |
| render(chart)                                                                 | [https://github.com/aangelinux/1DV610-L2/blob/main/lib/entities/barChart.js#L49](https://github.com/aangelinux/1DV610-L2/blob/main/lib/entities/barChart.js#L49) | 11          | Verbs and Keywords: Metodnamnet är ett verb och parametern är ett substantiv, så att de formar ett par enligt denna regeln.<br>Do One Thing: Dock skulle metoden kunna delas upp i mindre metoder. Just nu anropar den flera metoder för att validera input, göra uträkningar, och rendera diagrammet                                                                                                                    |
  
   
   
---
## Reflektion
Det här kapitlet var väldigt noga med reglerna för hur funktioner ska se ut. Väldigt korta, inte fler än 1 eller 2 parametrar och helst inga alls, if-else eller for-loopar ska bara ha en kodrad inuti blocket etc. Det lät som bra regler att följa men svårare att applicera dem i verkligheten.  
  
Jag använde några av reglerna för att refaktorera min klass Validator som validerar användarinput (data och stilregler för diagrammet). I slutändan såg klassen mycket bättre ut, med mindre funktioner och felhantering i separata metoder enligt Error Handling Is One Thing, och jag försökte använda mig av The Stepdown Rule så att varje metod har enbart 1 nivå av abstraktion och följer en logisk order nedåt. Men det var svårt att se till att alla metoder följde alla regler. Till exempel refaktorerade jag två metoder som bröt mot DRY till en enda metod, men då blev resultatet att denna metod tar emot tre parametrar, vilket istället bryter mot regeln om Function Arguments - Triads.  
    
   

# Kodkvalitetsreflektion
Reglerna för namngivning har inte varit så svåra att följa, det största problemet var snarare att det är så många variabler/funktioner/klasser som man måste namnge att man inte vill spendera massa betänketid på dem såsom boken förespråkar. Det är lättare att använda det första som dyker upp och bestämma att man kommer tillbaka vid ett senare tillfälle och byter till ett bättre namn, och sen glömma bort det eller inte hinna med.  
  
Att skriva bra funktioner var något krångligare. Anledningen var oftast inte att reglerna som boken tog upp var svåra att förstå utan det svåra var oftast att veta när en funktion behöver refaktoreras. Boken förespråkar till exempel att funktioner inte ska vara mer än ~5-10 kodrader långa, men vissa funktioner hamnar ju på gränsen. Så då blir frågan om det är nödvändigt att bryta ut vissa rader till en egen funktion. Som nämnt i kapitel 2 reflektionen är det också svårt att veta hur jag ska refaktorera min kod så att jag löser ett problem, utan att bryta mot en annan regel. Det har alltså varit svårt att bedöma gråzoner och sedan att hitta en lösning som följer alla regler tillräckligt väl.  
  
Jag fann det också svårt att veta när min kod var otydlig. Det var lätt att bli blind för otydligheter i ens kod- det är ju är uppenbart för mig vad koden gör för det var jag som skrev den, men det behöver inte nödvändigtvis vara tydligt för en annan programmerare. Så det svåraste var väl egentligen att försöka sätta sig in i perspektivet av någon annan som ska läsa ens kod.  
